<html>
	<head>
		<meta charset="utf-8">
		<title>TShock Quest System - Triggers</title>
		<meta name="description" content="So, Ijjie, how does it work?!">
		<meta name="author" content="Ijwu">
		
		<link rel="stylesheet" href="stylesheets/base.css">
		<link rel="stylesheet" href="stylesheets/skeleton.css">
		<link rel="stylesheet" href="stylesheets/layout.css">
		<link rel="stylesheet" href="stylesheets/docs.css">
		<style type="text/css">
		.auto-style2 {
			font-weight: bold;
			color: #FF0000;
		}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="sixteen columns">
				<h1 class="remove-bottom" style="margin-top: 40px">Triggers and Members List</h1>
				<hr />
			</div>
			<div class="three columns sidebar">
				<nav>
					<h3 id="logo">Triggers</h3>
					<ul>
						<li><a href="#atxy">AtXY</a></li>
						<li><a href="#broadcast">Broadcast</a></li>
						<li><a href="#buffplayer">BuffPlayer</a></li>
						<li><a href="#callfunc">CallFunction</a></li>
						<li><a href="#pass">Delay</a></li>
						<li><a href="#deletetile">DeleteTile</a></li>
						<li><a href="#deleteboth">DeleteTileWall</a></li>
						<li><a href="#deletewall">DeleteWall</a></li>
						<li><a href="#gather">GatherItem</a></li>
						<li><a href="#getregiontile">GetRegionTilePercentage</a></li>
						<li><a href="#getregionwall">GetRegionWallPercentage</a></li>
						<li><a href="#getxytile">GetXYTilePercentage</a></li>
						<li><a href="#getxywall">GetXYWallPercentage</a></li>
						<li><a href="#retrieve">GiveUpItem</a></li>
						<li><a href="#hunt">HuntMob</a></li>
						<li><a href="#private">MessagePlayer</a></li>
						<li><a href="#chatline">ReadNextChatLine</a></li>
						<li><a href="#reward">Reward</a></li>
						<li><a href="#spawnmob">SpawnMob</a></li>
						<li><a href="#teleport">Teleport</a></li>
						<li><a href="#tileedit">TileEdit</a></li>
						<li><a href="#walledit">WallEdit</a></li>
					</ul>
				</nav>
			</div>
			<div class="twelve columns offset-by-four content">
				<ul>
					<li id="atxy">
						<h3>AtXY</h3>
						<p>
							<strong>Function</strong>: Pauses the quest until a player enters the specified area.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">QPlayer</strong> player, 
								<strong style="color:red">int</strong> x, 
								<strong style="color:red">int</strong> y, 
								<strong style="color:red">int</strong> radius = 1<br />
							<strong>Additional Details</strong>: When the quest handler comes across this trigger it will constantly evaluate it until the player is at the target zone. As in the old system, it will hold up the quest until the player enters the designated area. It does <strong>not</strong> tell the player where to go. This is left to the quest creator.</p>
						<hr />
					</li>
					<li id="broadcast">
						<h3>Broadcast</h3>
						<p>
							<strong>Function</strong>: Used to send a message to all online players.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">string</strong> message,
								<strong style="color:red">Color</strong> color</p>
						<hr />
					</li>
					<li id="buffplayer">
						<h3>BuffPlayer</h3>
						<p>
							<strong>Function</strong>: Used to apply a specific buff to a player for a period of time.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">string</strong> buffname,
								<strong style="color:red">int</strong> time</p>
						<hr />
					</li>
					<li id="callfunc">
						<h3>CallFunction</h3>
						<p>
							<strong>Function</strong>:Calls the given function 
							with the given arguments when the quest hits this 
							trigger.<br />
							<strong>Arguments</strong>:
								<span class="auto-style2">LuaFunction</span> 
							func, <strong style="color:red">LuaTable</strong> 
							args</p>
						<hr />
					</li>
					<li id="pass">
						<h3>Delay</h3>
						<p>
							TO BE DONE</p>
						<hr />
					</li>
					<li id="deletetile">
						<h3>DeleteTile</h3>
						<p>
							<strong>Function</strong>: Used to delete the tile of a specific coordinate.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y</p>
						<hr />
					</li>
					<li id="deleteboth">
						<h3>DeleteTileWall</h3>
						<p>
							<strong>Function</strong>: Used to delete the tile and wall of a specific coordinate.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y</p>
						<hr />
					</li>

					<li id="deletewall">
						<h3>DeleteWall</h3>
						<p>
							<strong>Function</strong>: Used to delete the wall of a specific coordinate.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y</p>
						<hr />
					</li>
					<li id="gather">
						<h3>GatherItem</h3>
						<p>
							<strong>Function</strong>: Pauses the quest until the player has picked up a certain amount of a specific item.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">string</strong> item,
								<strong style="color:red">int</strong> amount=1<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">Item</strong> item<br />
							<strong>Member Details (Advanced Use Only)</strong>: item is the Item object that's being looked for. It uses TShock.Utils.GetItemByIdOrName to get a list of matching item objects. If the list contains only one object then it sticks the returned object into item. If there are multiple objects in the list then it will throw a FormatException. player is the player provided and the amount is the amount required.<br />
							<strong>Additional Details</strong>: This trigger will only detect <strong>new</strong> items a player obtains. For example, if I have 20 dirt blocks in my inventory and get a quest to gather 20 dirt blocks I do not instantly complete the mission. I have to go out and gather 20 more dirt blocks. Furthermore, if I drop my 20 blocks into lava then I must go out and collect 40 blocks now. This is because the trigger counts the current amount of the designated item in the player's inventory and counts it against them. So they will always be able to collect the designated amount from the moment of starting the trigger. The count is made at the beginning of the quest and not when the player reaches the trigger. That means if I need to collect 2 dirt blocks for a quest and I collect them before I'm told to do so I will still pass the trigger. 
						</p>
						<hr />
					</li>
					<li id="getregiontile">
						<h3>GetRegionTilePercentage</h3>
						<p>
							<strong>Function</strong>: Calculates the percentage of a specific tile within a region.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">string</strong> tiletype,
								<strong style="color:red">string</strong> regionname<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">int</strong> percentage<br />
							<strong>Member Details (Advanced Use Only)</strong>: percentage is the result of the percentage calculation.<br />
							<strong>Additional Details</strong>: This trigger literally does nothing 
							except a calculation. You <strong>must</strong> use a callback function with this trigger to make it useful. The callback function would take the trigger object passed to it and look up the percentage member and perform whatever needed calculation onto that.
						</p>
						<hr />
					</li>
					<li id="getregionwall">
						<h3>GetRegionWallPercentage</h3>
						<p>
							<strong>Function</strong>: Calculates the percentage of a specific wall within a region.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">string</strong> walltype,
								<strong style="color:red">string</strong> regionname<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">int</strong> percentage<br />
							<strong>Member Details (Advanced Use Only)</strong>: percentage is the result of the percentage calculation.<br />
							<strong>Additional Details</strong>: This trigger 
							literally does nothing except a calculation. You <strong>must</strong> use a callback function with this trigger to make it useful. The callback function would take the trigger object passed to it and look up the percentage member and perform whatever needed calculation onto that.
						</p>
						<hr />
					</li>
					<li id="getxytile">
						<h3>GetXYTilePercentage</h3>
						<p>
							<strong>Function</strong>: Calculates the percentage of a specific tile within a region.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">string</strong> tiletype,
								<strong style="color:red">int</strong> X,
								<strong style="color:red">int</strong> Y,
								<strong style="color:red">int</strong> Width,
								<strong style="color:red">int</strong> Height,<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">int</strong> percentage<br />
							<strong>Member Details (Advanced Use Only)</strong>: percentage is the result of the percentage calculation.<br />
							<strong>Additional Details</strong>: This trigger 
							literally does nothing except a calculation. You <strong>must</strong> use a callback function with this trigger to make it useful. The callback function would take the trigger object passed to it and look up the percentage member and perform whatever needed calculation onto that.
						</p>
						<hr />
					</li>
					<li id="getxywall">
						<h3>GetXYWallPercentage</h3>
						<p>
							<strong>Function</strong>: Calculates the percentage of a specific wall within a region.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">string</strong> walltype,
								<strong style="color:red">int</strong> X,
								<strong style="color:red">int</strong> Y,
								<strong style="color:red">int</strong> Width,
								<strong style="color:red">int</strong> Height,<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">int</strong> percentage<br />
							<strong>Member Details (Advanced Use Only)</strong>: percentage is the result of the percentage calculation.<br />
							<strong>Additional Details</strong>: This trigger 
							literally does nothing except a calculation. You <strong>must</strong> use a callback function with this trigger to make it useful. The callback function would take the trigger object passed to it and look up the percentage member and perform whatever needed calculation onto that.
						</p>
						<hr />
					</li>
					<li id="retrieve">
						<h3>GiveUpItem</h3>
						<p>
							<strong>Function</strong>: Waits for a player to drop a certain item in a certain amount. It then deletes the dropped item and allows them to continue.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">string</strong> type,
								<strong style="color:red">int</strong> amount=1<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong>Dictionary<</strong><strong style="color:red">string</strong>, <strong style="color:red">int</strong><strong>></strong> toBeCollected,
								(function) <strong style="color:red">void</strong> addItem<br />		
							<strong>Member Details (Advanced Use Only)</strong>: toBeCollected is a <string, int> 
							dictionary where the key is the item name and the 
							value is the amount expected.<br />
							<strong>Additional Details</strong>: The contructor initially adds only one item to the dictionary of expected items. To have this trigger expect multiple items use the addItem method. addItem accepts a <strong style="color:red">string</strong> and then an <strong style="color:red">int</strong>. The string is the item name, the amount is the amount expected.
						</p>
						<hr />
					</li>
					<li id="hunt">
						<h3>HuntMob</h3>
						<p>
							<strong>Function</strong>: Pauses the quest until the player has hunted a specific amount of a certain mob or mobs.<br />
							<strong>Arguments</strong>:
								<strong style="color:red">QPlayer</strong> Player,
								<strong style="color:red">string</strong> type,
								<strong style="color:red">int</strong> amount = 1<br />
							<strong>Useful Members (Advanced Use Only)</strong>:
								<strong>Dictionary<</strong><strong style="color:red">string</strong><strong>, </strong><strong style="color:red">int</strong><strong>></strong> 
							toBeKilled<br />
							<strong>Member Details (Advanced Use Only)</strong>: toBeKilled is a dictionary with mob names being the keys and amounts needing to be killed as the value. Currently the constructor accepts type and amount to input one mob type into the dictionary. <strong>Note: If you do not edit the toBeKilled member, you may not have concurrent mob killing objectives.</strong></p>
						<hr />
					</li>
					<li id="private">
						<h3>MessagePlayer</h3>
						<p>
							<strong>Function</strong>: Sends a message to the player in a certain color.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">string</strong> message,
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">Color</strong> color</p>
						<hr />
					</li>
					<li id="chatline">
						<h3>ReadNextChatLine</h3>
						<p>
							<strong>Function</strong>: Waits for the player to say something, then captures it.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">bool</strong> hideMsg = false<br />
							<strong>Useful Members (Advanced Use Only)</strong>: 
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">string</strong> Message,
								<strong style="color:red">bool</strong> hideMessage<br />		
							<strong>Member Details (Advanced Use Only)</strong>: Message is the string captured, default is null. hideMessage is a bool designating whether the player's chatline should be displayed to the players, including the one who said it.
						</p>
						<hr />
					</li>
					<li id="reward">
						<h3>Reward</h3>
						<p>
							<strong>Function</strong>: Gives the player an item in the specified amount of the specified prefix.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">QPlayer</strong> player,
								<strong style="color:red">string</strong> item,
								<strong style="color:red">int</strong> stack=1,
								<strong style="color:red">int</strong> prefix=0<br />
							<strong>Useful Members (Advanced Use Only)</strong>:<strong><span style="color:red">
							</span> </strong> <strong style="color:red">Item</strong> 
							item<br />		
							<strong>Member Details (Advanced Use Only)</strong>: 
							item is an Item type object that is automatically 
							generated by the constructor. You may edit it for 
							more low level control over the item you want to 
							give the player.
						</p>
						<hr />
					</li>
					<li id="spawnmob">
						<h3>SpawnMob</h3>
						<p>
							<strong>Function</strong>: Spawns a certain amount of a specific mob at a point.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">string</strong> name,
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y,
								<strong style="color:red">int</strong> amount=0</p>
						<hr />
					</li>
					<li id="teleport">
						<h3>Teleport</h3>
						<p>
							<strong>Function</strong>: Moves a player to the specified point.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y,
								<strong style="color:red">QPlayer</strong> player</p>
						<hr />
					</li>
					<li id="tileedit">
						<h3>TileEdit</h3>
						<p>
							<strong>Function</strong>: Changes a tile at a certain point to another type.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y,
								<strong style="color:red">string</strong> tile<br>
							<strong>Additional Details</strong>: Tile names are 
							stored in a dictionary as defined in the source 
							code. Check out the source code if you want a list 
							of tile names.<br />
						</p>
						<hr />
					</li>
					<li id="walledit">
						<h3>WallEdit</h3>
						<p>
							<strong>Function</strong>: Changes a wall at a certain point to another type.<br />
							<strong>Arguments</strong>: 
								<strong style="color:red">int</strong> x,
								<strong style="color:red">int</strong> y,
								<strong style="color:red">string</strong> wall<br />
							<strong>Additional Details</strong>: Wall names are 
							stored in a dictionary as defined in the source 
							code. Check out the source code if you want a list 
							of wall names.</p>
						<hr />
					</li>
				</ul>
			</div>
		</div>
	</body>
</html>